<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAYAN - কারিগরের বিস্তারিত</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        .star-rating { color: #ffc107; font-size: 1.5rem; }
        .review-form { margin-top: 30px; }
    </style>
</head>
<body>

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="row g-0">
            <div class="col-md-5">
                <img src="https://media.istockphoto.com/id/1048532228/photo/smiling-male-plumber-with-pipe-wrench-standing-arms-crossed.jpg" class="img-fluid rounded-start" alt="কারিগরের ছবি">
            </div>
            <div class="col-md-7">
                <div class="card-body">
                    <h2 class="card-title">রাহুল দাস</h2>
                    <p class="card-text">
                        <strong>বিভাগ:</strong> প্লাম্বার<br>
                        <strong>এক্সপিরিয়েন্স:</strong> ৮ বছর<br>
                        <strong>এরিয়া:</strong> হাওড়া, শিবপুর<br>
                        <strong>ফি:</strong> ₹৪৫০/ঘণ্টা<br>
                        <strong>রিভিউ:</strong> 
                        <span class="star-rating">★★★★☆</span> (4.7 / ৪২ রিভিউ)
                    </p>

                    <!-- লগইন চেক করে কন্টাক্ট দেখানো -->
                    <div id="contactSection" class="mt-4">
                        <button class="btn btn-success w-100 mb-3" onclick="showContact()">কন্টাক্ট করুন (লগইন প্রয়োজন)</button>
                        <div id="contactInfo" class="d-none alert alert-info">
                            <strong>ফোন নম্বর:</strong> +91-98765-43210<br>
                            <strong>অল্টারনেটিভ:</strong> +91-89012-34567
                        </div>
                    </div>

                    <!-- রিভিউ দেওয়ার ফর্ম (লগইন থাকলে) -->
                    <div class="review-form">
                        <h5>আপনার অভিজ্ঞতা শেয়ার করুন</h5>
                        <div class="mb-3">
                            <label>রেটিং দিন:</label><br>
                            <span class="star-rating" id="ratingStars">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </span>
                        </div>
                        <textarea class="form-control mb-3" rows="3" placeholder="আপনার রিভিউ লিখুন..."></textarea>
                        <button class="btn btn-primary" onclick="submitReview()">রিভিউ জমা দিন</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // সিমুলেটেড লগইন স্ট্যাটাস (ফিক্স করা হয়েছে - এখন ডিফল্ট false)
    // বাস্তবে ব্যাকএন্ড থেকে চেক করুন, যেমন: sessionStorage.getItem('loggedIn') === 'true'
    let isLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true' ? true : false;

    function showContact() {
        if (!isLoggedIn) {
            alert("দয়া করে প্রথমে লগইন করুন! কন্টাক্ট দেখার জন্য লগইন আবশ্যক।");
            window.location.href = "login.html";  // লগইন পেজে পাঠান
            return;
        }
        document.getElementById('contactInfo').classList.remove('d-none');
    }

    // স্টার ক্লিক করে রেটিং সিলেক্ট
    document.querySelectorAll('#ratingStars i').forEach(star => {
        star.addEventListener('click', function() {
            const value = this.dataset.value;
            document.querySelectorAll('#ratingStars i').forEach((s, i) => {
                s.className = i < value ? 'fas fa-star' : 'far fa-star';
            });
        });
    });

    function submitReview() {
        if (!isLoggedIn) {
            alert("রিভিউ দেওয়ার জন্য লগইন করুন!");
            window.location.href = "login.html";  // লগইন পেজে পাঠান
            return;
        }
        alert("ধন্যবাদ! আপনার রিভিউ জমা হয়েছে। (সিমুলেটেড - ব্যাকএন্ডে সেভ হবে)");
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>